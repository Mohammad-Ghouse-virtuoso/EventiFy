<!DOCTYPE html>
<html>
<head>
    <title>Time Display Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .event { border: 1px solid #ccc; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .time { font-weight: bold; color: #007bff; }
    </style>
</head>
<body>
    <h1>EventiFy - Time Display Test</h1>
    <div id="events"></div>

    <script>
        // Helper function to format time from 24-hour to 12-hour format
        function formatTime(time) {
            if (!time) return '';
            const [hours, minutes] = time.split(':');
            const hour = parseInt(hours, 10);
            const ampm = hour >= 12 ? 'PM' : 'AM';
            const displayHour = hour % 12 || 12;
            return `${displayHour}:${minutes} ${ampm}`;
        }

        // Fetch and display events
        fetch('http://localhost:8000/api/v1/events')
            .then(response => response.json())
            .then(events => {
                const eventsDiv = document.getElementById('events');
                events.forEach(event => {
                    const eventDiv = document.createElement('div');
                    eventDiv.className = 'event';
                    eventDiv.innerHTML = `
                        <h3>${event.title}</h3>
                        <p><strong>Date:</strong> ${new Date(event.date).toLocaleDateString()}</p>
                        <p><strong>Time:</strong> <span class="time">${formatTime(event.time)}</span></p>
                        <p><strong>Location:</strong> ${event.location}</p>
                        <p><strong>Description:</strong> ${event.description}</p>
                        <p><strong>Raw time from API:</strong> ${event.time}</p>
                    `;
                    eventsDiv.appendChild(eventDiv);
                });
            })
            .catch(error => {
                console.error('Error fetching events:', error);
                document.getElementById('events').innerHTML = '<p>Error loading events. Please check the backend server.</p>';
            });
    </script>
</body>
</html>
